<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta name="author" content="Tirta Wirya Putra">
    <meta name="description" content="Bricks Kingdom">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/assets/login.css">
    <title>Bricks Kingdom</title>
  </head>
  <body>
    <div class="wrapper">
    	<div class="container">
    		<h1>Welcome</h1>

    		<form class="form">
    			<input id="username" type="text" placeholder="Username" required="required">
    			<input id="password" type="password" placeholder="Password" required="required">
    			<button type="submit" id="regis-button">Register</button>
    		</form>
    	</div>
    	<ul class="bg-bubbles">
    		<li></li>
    		<li></li>
    		<li></li>
    		<li></li>
    		<li></li>
    		<li></li>
    		<li></li>
    		<li></li>
    		<li></li>
    		<li></li>
    	</ul>
    </div>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="/assets/regis.js"></script>
  </body>
  <script>
  $("#regis-button").click(function(event) {
    let username = $("#username").val();
    let password = $("#password").val();

    if (username != "" && password != "") {
      event.preventDefault();
      axios.post('http://localhost:3000/customers/', {username: username, password: password, memberid: "CUST001"})
      .then (() => {
        alert('Thank you for register, You will be redirect');
        setTimeout(function() {
        window.location.href = './index.html';
        }, 2000);
      })
      .catch ((err) => {
        console.log('failed');
        console.log(err.message);
        window.location.href = './register.html';
      });
    }

  });
</script>
</html>
